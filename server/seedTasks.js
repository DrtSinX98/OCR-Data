// /server/seedTask.js
const mongoose = require('mongoose');
const dotenv = require('dotenv');
// const path = require('path');
const OcrTask = require('./models/OcrTask');

dotenv.config();

const tasks = [
  {
    imageUrl: '/uploads/image1.jpg',
    ocrText: `
    ମାତୃଭାଷା ଶିକ୍ଷାଦାନ ପଦ୍ଧତି
    ବହୁ ପ୍ରକାର । ଉଦାହରଣ ସ୍ବରୂପ ଝରଣାକଳମ, ସଦସ୍ୟ ପ୍ରଭୃତି ଶବ୍ଦ ନଆଯାଇପାରେ ।
    Fountain Pen, Member ପ୍ରଭୃତି ଶବ୍ଦ ସହଜରେ ବୁଝିଯାଇପାରିବେ । ଆଉ କେତେକ ଇଂରାଜୀ ଶବ୍ଦର ଉଚ୍ଚାରଣ ଓଡ଼ିଆରେ ଏପରି ଅପଭ୍ରଂଶ ହୋଇଯାଇଛି ଯେ ତାହାର ଇଂରାଜୀ ପ୍ରତିଶବ୍ଦ ନ ଦେଲେ ଶବ୍ଦ ଅର୍ଥ କ୍ଷମ ହେବନାହିଁ, କଣ୍ଟ୍ରାକ୍ଟର, ଅର୍ଡର୍ଲି କହିଲେ ଏହା ସହଜ ବୋଧ ହେବ । କିନ୍ତୁ ଏହି ପଦ୍ଧତି କେବଳ ଏହିପରି ଶବ୍ଦପାଇଁ ପ୍ରଯୁଜ୍ୟ ।
    (୦) ଭୁଲନା ଦ୍ବାରା – କେତେକ ଶବ୍ଦର ଅର୍ଥବୋଧ ପାଇଁ ଆଉ କେତେକ ସମପର୍ଯ୍ୟାୟଭୁକ୍ତ ଶବ୍ଦର ଭୁଲନା ଆବଶ୍ୟକ ହୁଏ । ‘ଘୋଷ’ର ଅର୍ଥ ରବ, ଧ୍ବନି ଶବ୍ଦ ସହିତ ଭୁଲନାରେ ସୁସ୍ପଷ୍ଟ ହୋଇଥାଏ ।
    (୧) ବ୍ୟୁତ୍ପତ୍ତି ଦ୍ବାରା—ବ୍ୟୁତ୍ପତ୍ତି ନ ଜାଣିଲେ କେତେକ ଶବ୍ଦର ଅର୍ଥ ଯଥାର୍ଥରେ ବୋଧଗମ୍ୟ ହୁଏ ନାହିଁ । ମିହିର, ବକର୍ଷଣ, ପଙ୍କଜ ପ୍ରଭୃତି ଶବ୍ଦମାନଙ୍କ ପାଇଁ ଏହି ପ୍ରଣାଳୀ ପ୍ରଯୁଜ୍ୟ ।
    (୨) ବିଭିନ୍ନ ଅର୍ଥରେ ଓ ବିଭିନ୍ନ ପରିସ୍ଥିତିରେ ପ୍ରୟୋଗ ଦ୍ବାରା—ବିଭିନ୍ନ ଅର୍ଥରେ ଓ ବିଭିନ୍ନ ପରିବେଶରେ ପ୍ରଯୁକ୍ତ ହେଲେ କେତେକ ଶବ୍ଦର ଅର୍ଥ ସ୍ପଷ୍ଟ ହୋଇଥାଏ । ବଷୟାସକ୍ତ, ବଷୟ ପ୍ରମୁଖ, ବଷୟବନ୍ତ, ପ୍ରଭୃତି ପ୍ରୟୋଗ ଦ୍ବାରା ଶବ୍ଦଟିର ବ୍ୟାଖ୍ୟା କରାଯାଇପାରେ ।
    (୩) ଆନୁଷଙ୍ଗିକ ବଷୟ ସହିତ ସମ୍ପର୍କ ସ୍ଥାପନ ଦ୍ବାରା—ଲକ୍ଷ୍ମଣୀ ବା ନବମୀତ ଶବ୍ଦ ବୁଝାଇବା ପାଇଁ ଦୁଗ୍ଧ, ଦହି, ଲହୁଣୀ, ଘିଅ ସହିତ ତାହାର ସମ୍ପର୍କ ବୁଝାଇଲେ ଶବ୍ଦଟି ସହଜରେ ବୋଧଗମ୍ୟ ହେବ ।
    (୪) ସନ୍ଧ ବଚ୍ଛେଦ ଦ୍ବାରା—ଅନେକ ଶବ୍ଦ ପ୍ରଥମେ ଅବୋଧ ଲାଗୁଥାଏ, କିନ୍ତୁ ସନ୍ଧ ବଚ୍ଛେଦ କରିଦେଲେ ତାହାର ଅର୍ଥ ସ୍ପଷ୍ଟ ହୋଇଯାଏ । ଯଥା—ଗୁମ୍ଫାଦେଶ—ଗୁ+ଆଦେଶ ବୋଲି ସନ୍ଧ ବଚ୍ଛେଦ କଲେ ଅର୍ଥବୋଧ ସହଜ ହୋଇଥାଏ ।
    (୫) ସମାସ ବାକ୍ୟ ଦ୍ବାରା—କେତେକ ଶବ୍ଦର ବ୍ୟାଖ୍ୟା ପାଇଁ ସମାସର ପ୍ରୟୋଗ ଅପରିହାର୍ଯ୍ୟ । ପୀତାମ୍ବର ଶବ୍ଦ ବୁଝାଇବା ପାଇଁ ପୀତ ଆମ୍ବର ଯାହାର—ସେହି କୃଷ୍ଣ ବୋଲି କହିଲେ ଶବ୍ଦର ଅର୍ଥ ଯେପରି ସ୍ପଷ୍ଟ ହେବ, କିନ୍ତୁ କୃଷ୍ଣ ବୋଲି କହିଲେ ତାହା ହେବ ନାହିଁ ।`,
    correctedText: '',
    assignedTo: null,
    status: 'assigned',
    source: 'system',
    createdAt: new Date(),
  },
  {
    imageUrl: '/uploads/image3.jpg',
    ocrText: `
    ମାତୃଭାଷା ଶିକ୍ଷାଦାନ ପଦ୍ଧତି

    (କ) ସରଳ ବ୍ୟାଖ୍ୟା। ପ୍ରାଚୀନ— ବନ୍ଧୁ ଶବ୍ଦର ଅର୍ଥର ସ୍ପଷ୍ଟୀକରଣ ପାଇଁ ସେହି ଶବ୍ଦଗୁଡ଼ିକୁ ବ୍ୟାଖ୍ୟା କରିବା ଦରକାର ହୁଏ। ‘ବନଘର’ ପ୍ରଭୃତି ଶବ୍ଦ ଏହି ଶ୍ରେଣୀର।

    ୪। ଗୁରୁମାନଙ୍କର ନିରବ ପଠନ—ଶବ୍ଦଗୁଡ଼ିକ ସମ୍ବନ୍ଧରେ ଯଥାଯଥ ଧାରଣା କରିସାରି ଗୁରୁମାନେ ପାଠ୍ୟ ବିଷୟକୁ ନିରବରେ ପଢ଼ିବେ। ଏତେବେଳକୁ ସେମାନେ ନିରବରେ ପଢ଼ିବାରେ ଅଭ୍ୟସ୍ତ ହୋଇସାରିଥିବେ। ଭେଣୁ ଏହି ଶ୍ରେଣୀମାନଙ୍କରେ ନିରବ ପଠନ ଫଳରେ ଯେପରି ସେମାନେ ଋଷ୍ଟର ପୁଙ୍ଖାନୁପୁଙ୍ଖ ଆଲୋଚନା, ଶବ୍ଦ, ପ୍ରବଚନ, ରୂଢ଼ି ପ୍ରୟୋଗ ପ୍ରଭୃତି ବିଷୟରେ ଧାରଣା କରିପାରିବେ, ତାହା ଲକ୍ଷ୍ୟ ହେବା ଉଚିତ।

    ୫। ବୋଧଜ୍ଞାନ ପରୀକ୍ଷା—ଏହି ସୋପାନରେ ଶିକ୍ଷକ, ଗୁରୁମାନେ କେମିତି ପରିମାଣରେ ବିଷୟଟିକୁ ବୁଝିପାରିଛନ୍ତି ତାହା ନିର୍ଦ୍ଧାରଣ କରିବେ। ସେମାନେ ଯେଉଁ ଅଂଶ ବୁଝି ପାରିନଥିବେ, ସେ ଅଂଶ ମଧ୍ୟ ଶିକ୍ଷକ ବୁଝାଇବେ। ସେ ପ୍ରଶ୍ନୋତ୍ତର ମାଧ୍ୟମରେ ସେମାନଙ୍କର ବୋଧଜ୍ଞାନ ପରୀକ୍ଷା କରିବେ। ସେହି ପ୍ରଶ୍ନ ଜରିଆରେ ଅବୋଧ୍ୟ ଅଂଶକୁ ସରଳ କରି ବୁଝାଇବେ। କୌଣସି ପୌରାଣିକ ଉପାଖ୍ୟାନ, ଐତିହାସିକ ଘଟଣା ବା କବିତା ପ୍ରଭୃତିର ପ୍ରୟୋଗ କରାଯାଇଥିଲେ ଏହି ସୋପାନରେ ତାହାର ସର୍ବଶେଷ ଆଲୋଚନା କରିବେ। ଗୋଟିଏ ବିଷୟ ଗୁରୁମାନେ ଉପଯୁକ୍ତ ଭାବରେ ବୁଝିଛନ୍ତି କି ନାହିଁ ତାହା ନିମ୍ନ ବିଷୟଗୁଡ଼ିକରୁ ଜଣାପଡ଼ିବ। ସେମାନେ ଉପଯୁକ୍ତ ଭାବରେ ବୁଝିଥିଲେ ନିମ୍ନ କେତେକ ବିଷୟରେ କ୍ଷମ ହେବେ।—

    (୧) ବିଷୟଟିର ପ୍ରଧାନ କଥାବସ୍ତୁ ବିଷୟରେ ସାଧାରଣ ଧାରଣା କରିବା।
    (୨) ବିଷୟଟିରେ ଥିବା କେତେକ ପ୍ରଧାନ ଭାବ ଓ ଧାରଣା ସମ୍ପର୍କରେ ସ୍ପଷ୍ଟ ଧାରଣା କରିବା।
    (୩) ସେହି ବିଷୟରେ ପ୍ରଶ୍ନ ପଚାରିଲେ ଉତ୍ତର ଦେବାରେ ସମର୍ଥ ହେବା।
    (୪) ପାଠ୍ୟର ବିଷୟବସ୍ତୁକୁ ନୂତନ କରି ସଜାଇ ପାରିବା।
    (୫) ସେ ବିଷୟରେ ସାରାଂଶ ଲେଖି ପାରିବା।
    (୬) ସେ ବିଷୟଟି ପଢ଼ି କୌଣସି ସାଧାରଣ ସଭାରେ ଉପସ୍ଥାପନ କରିପାରିବା।`,
    correctedText: '',
    assignedTo: null,
    status: 'assigned',
    source: 'system',
    createdAt: new Date(),
  },
  {
    imageUrl: '/uploads/image4.jpg',
    ocrText: `
    ପାଠ୍ୟପୁସ୍ତକ
    (୭) ପାଠ୍ୟରେ ଥିବା ନିର୍ଦ୍ଦେଶ ସବୁ ବୁଝିପାରିବା।
    (୮) ସେ ବିଷୟଟିର ସମାଲୋଚନା କରିବାରେ ସମର୍ଥ ହେବା।
    (୯) ମାନଚିତ୍ର, ଗ୍ରାଫ୍ ପ୍ରଭୃତିକୁ ଉପଯୁକ୍ତ ଭାବରେ ଦେଖି ଆଲୋଚନା କରି-
    ପାରିବା।
    (୧୦) ସେ ପାଠରେ ବ୍ୟବହୃତ ବାକ୍ୟ ଓ ବାକ୍ୟାଂଶ, ଢ଼ଗ, ଢ଼ମାଳ ପ୍ରବଚନ
    ରୂଢ଼ି ପ୍ରୟୋଗ ପ୍ରଭୃତି ବୁଝିପାରିବା।
    (୧୧) ସେ ବିଷୟଟିକୁ ଭାବିକରି ନୂତନ ଚିନ୍ତା କରିପାରିବା।

    ଏ ସବୁର ପରୀକ୍ଷା ପାଇଁ ଶିକ୍ଷକ କେତେକ ପ୍ରଶ୍ନ ପଚାରିବେ। ଏହି ପ୍ରଶ୍ନ ସବୁ
    ସିଧା, ସରଳ ଓ ନିର୍ଦ୍ଦିଷ୍ଟ ହେବ। ଉପରେ ଦିଆଯାଇଥିବା ସମସ୍ତ ବିଷୟରେ ପିଲାମାନେ
    ଯେପରି ବୁଝିପାରନ୍ତି ନାହିଁ। ସେପ୍ରସ୍ତୁତ ପ୍ରଶ୍ନଗୁଡ଼ିକ ସହାୟକ ହେବା ଉଚିତ। ଅନେକ
    ଅଂଶର ଭାଷା ଜଟିଳ ଥିବାରୁ ପିଲାମାନେ ବୁଝିପାରନ୍ତି ନାହିଁ। କେତେଗୁଡ଼ିଏ ପ୍ରଶ୍ନ ପରେ
    ଶିକ୍ଷକ ସେ ଅଂଶର ଭାଷାକୁ ସରଳ କରିବାରେ ସାହାଯ୍ୟ କରିବେ। ଯେଉଁଠି ପ୍ରଶ୍ନୋତ୍ତର
    ମାଧ୍ୟମରେ ତାହା ସମ୍ଭବ ହେବନାହିଁ, ସେଠାରେ ଶିକ୍ଷକ ନିଜେ ବୁଝାଇ ଭାଷାକୁ ସରଳ
    କରିବେ। ଏହି ପ୍ରଶ୍ନଗୁଡ଼ିକୁ ନିମ୍ନୋକ୍ତ ଗୁଡ଼ିଏ ଭାଗରେ ବିଭକ୍ତ କରାଯାଇପାରେ।
    (କ) ବିଷୟ ସମ୍ବନ୍ଧୀୟ କେତେକ ସ୍ଥୂଳ ଓ ସାଧାରଣ ଧାରଣା ବିଷୟରେ ପ୍ରଶ୍ନ।
    (ଖ) ବିଷୟବସ୍ତୁର ଅନ୍ତର୍ନିହିତ ଭାବର ସମୀକ୍ଷା କରିବା ପାଇଁ ପ୍ରଶ୍ନ।

    (ଗ) ପାଠ୍ୟ ବର୍ଣ୍ଣିତ ଚରିତ୍ର, ଘଟଣା, ମନୋଭାବ ଓ ଟିକା ଟିପ୍ପଣୀର ସମାଲୋଚନା-
    ମୂଳକ ପ୍ରଶ୍ନ।
    (ଘ) ଶୈଳୀ ସମ୍ବନ୍ଧୀୟ ପ୍ରଶ୍ନ।

    ୬। ଶବ୍ଦାର୍ଥଜ୍ଞାନ—ଏ ସୋପାନରେ ପିଲାମାନେ ଯେପରି ଶବ୍ଦର ପ୍ରୟୋଗରେ
    ଦକ୍ଷତା ହାସଲ କରନ୍ତି। ସେଥିପ୍ରତି ଶିକ୍ଷକ ଯତ୍ନବାନ୍ ହେବେ। ଯେଉଁ ନୂତନ ଶବ୍ଦ,`,
    correctedText: '',
    assignedTo: null,
    status: 'assigned',
    source: 'system',
    createdAt: new Date(),
  },
];

const seedTasks = async () => {
  try {
    if (!process.env.MONGODB_URI) {
       throw new Error('MONGODB_URI not found in environment variables for seeding.');
    }
    await mongoose.connect(process.env.MONGODB_URI);
    console.log('MongoDB connected for seeding');

    // Optional: Remove all existing tasks
    await OcrTask.deleteMany({});
    console.log('Existing OCR tasks cleared.');

    // Insert the sample tasks
    const insertedTasks = await OcrTask.insertMany(tasks);
    console.log(`Successfully seeded ${insertedTasks.length} OCR tasks.`);
    process.exit(0); // Exit successfully
  } catch (err) {
    console.error('Seeding failed:', err.message);
    process.exit(1); // Exit with error
  } finally {
     // Ensure mongoose connection is closed
     await mongoose.connection.close();
  }
};

// Run the seeding function
if (require.main === module) {
  seedTasks();
}

module.exports = seedTasks; // Allow importing for testing
